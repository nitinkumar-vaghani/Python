This is the **most important and biggest concept** in Python programming:
**Object-Oriented Programming (OOP)**.
You’ll use OOP everywhere — building FastAPI services, models, database abstractions, background workers, and scalable architectures.

Let’s go *in-depth*, but in a very clear and beginner-friendly way.

---

# **1. What is Object-Oriented Programming (OOP)?**

OOP is a programming paradigm that organizes code into **objects** — which combine **data** (attributes) and **behavior** (methods).

In Python:

* **Everything is an object** (numbers, strings, functions, even modules).
* You define your own objects using **classes**.

OOP consists of:

* **Classes**
* **Objects (Instances)**
* **Inheritance**
* **Composition**
* **Encapsulation**
* **Polymorphism**

You’ll mostly use: classes, instances, inheritance, composition.

Let's go step-by-step.

---

# **2. Classes and Objects**

## **2.1 What is a Class?**

A **class** is a blueprint/template for creating objects.

## **2.2 What is an Object?**

An **object** is an instance of a class with actual data.

---

### **Basic Example**

```python
class Person:
    def __init__(self, name, age):
        self.name = name
        self.age = age

    def greet(self):
        print(f"Hello, I'm {self.name} and I'm {self.age} years old.")
```

### Creating an Object

```python
p1 = Person("Nitin", 30)
p1.greet()
```

Output:

```
Hello, I'm Nitin and I'm 30 years old.
```

---

# **3. The `__init__` Method (Constructor)**

* Called automatically when you create an object.
* Used to initialize object attributes.

```python
def __init__(self, name, age):
    self.name = name
    self.age = age
```

`self` refers to the *current object instance*.

---

# **4. Attributes (Data) & Methods (Functions)**

### **Attributes**

* Variables inside a class.

```python
self.name = name
self.age = age
```

### **Methods**

* Functions inside a class.

```python
def greet(self):
    print("Hello!")
```

---

# **5. Encapsulation**

Encapsulation hides internal details of an object — protecting data.

Python uses **naming conventions**, not forced privacy:

| Convention | Meaning                  |
| ---------- | ------------------------ |
| `name`     | public                   |
| `_name`    | protected (internal use) |
| `__name`   | private (name-mangled)   |

Example:

```python
class BankAccount:
    def __init__(self, name, balance):
        self.name = name
        self.__balance = balance   # private

    def deposit(self, amount):
        self.__balance += amount

    def get_balance(self):
        return self.__balance
```

---

# **6. Inheritance**

Inheritance allows one class to **reuse**, **extend**, or **modify** another class.

---

## **6.1 Basic Inheritance**

```python
class Animal:
    def speak(self):
        print("Animal makes a sound")

class Dog(Animal):
    def speak(self):
        print("Woof!")
```

```python
d = Dog()
d.speak()   # Woof!
```

* `Dog` inherits everything from `Animal`.
* `Dog` overrides `speak()` (method overriding).

---

## **6.2 Using Parent Class Methods with `super()`**

`super()` calls the parent class constructor or methods.

```python
class Animal:
    def __init__(self, name):
        self.name = name

class Dog(Animal):
    def __init__(self, name, breed):
        super().__init__(name)
        self.breed = breed
```

---

## **6.3 Multi-Level Inheritance**

```
Animal → Mammal → Dog
```

```python
class Animal:
    pass

class Mammal(Animal):
    pass

class Dog(Mammal):
    pass
```

---

## **6.4 Multiple Inheritance**

Python allows this, but use carefully.

```python
class A:
    pass

class B:
    pass

class C(A, B):
    pass
```

(You won’t use it often in FastAPI — composition is better.)

---

# **7. Composition (HAS-A relationship)**

**Composition** means “objects can contain other objects”.

Example:

* A Car **has-an** Engine.
* A UserService **has-a** database repository.

This is preferred over inheritance when the relationship is not “is-a”.

---

### Example: Composition

```python
class Engine:
    def start(self):
        print("Engine started")

class Car:
    def __init__(self):
        self.engine = Engine()   # Composition

    def start(self):
        self.engine.start()
        print("Car is running!")
```

```python
c = Car()
c.start()
```

Output:

```
Engine started
Car is running!
```

---

### **When to Use Composition?**

* When something **HAS-A** another thing.
* When you want modules to be **loosely coupled**.
* In real-world Python apps and FastAPI services.

---

# **8. Polymorphism**

Polymorphism means “many forms” — different objects respond to the same method in different ways.

Example:

```python
class Cat:
    def speak(self):
        print("Meow")

class Dog:
    def speak(self):
        print("Woof")
```

You can loop over different objects:

```python
animals = [Cat(), Dog()]

for animal in animals:
    animal.speak()
```

Output:

```
Meow
Woof
```

---

# **9. Magic Methods (`__str__`, `__repr__`, etc.)**

Python automatically calls built-in “magic methods”.

Examples:

* `__init__()` — constructor
* `__str__()` — friendly print
* `__repr__()` — developer representation

```python
class Person:
    def __init__(self, name):
        self.name = name

    def __str__(self):
        return f"Person({self.name})"
```

```python
print(Person("Nitin"))
```

Output:

```
Person(Nitin)
```

---

# **10. Real-World Example (API Style)**

### Models (Classes)

```python
class User:
    def __init__(self, user_id, email):
        self.user_id = user_id
        self.email = email
```

### Service Layer (Composition)

```python
class UserRepository:
    def save(self, user):
        print(f"Saving {user.email}")

class UserService:
    def __init__(self, repo):
        self.repo = repo  # Composition

    def register_user(self, user):
        self.repo.save(user)
```

### Usage

```python
repo = UserRepository()
service = UserService(repo)

u = User(1, "test@example.com")
service.register_user(u)
```

Output:

```
Saving test@example.com
```

---

# **11. Summary Table**

| Concept           | Meaning                         | Example          |
| ----------------- | ------------------------------- | ---------------- |
| **Class**         | Blueprint                       | `class Car:`     |
| **Object**        | Instance of class               | `c = Car()`      |
| **Constructor**   | Init object state               | `__init__()`     |
| **Attribute**     | Data stored in object           | `self.name`      |
| **Method**        | Behavior                        | `def drive()`    |
| **Inheritance**   | “IS-A” relationship             | `Dog(Animal)`    |
| **Composition**   | “HAS-A” relationship            | `Car has Engine` |
| **Encapsulation** | Hide internals                  | `_var`, `__var`  |
| **Polymorphism**  | Same method, different behavior | `.speak()`       |

---
